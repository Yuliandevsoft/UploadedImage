@{
    ViewBag.Title = "Configuracion";
}

<h2>Configuracion</h2>

<!-- Materialize CSS + Icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
<script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

<!-- Cropper.js -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.css" />
<script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.5.13/cropper.min.js"></script>

<button data-target="modalConfigLogo" class="black-text btn grey lighten-2 font-bold modal-trigger rounded-4">
    <i class="material-icons left blue-text">photo</i>
        <b>Configurar Logo</b>
</button>

<div id="modalConfigLogo" class="modal">
    <div class="modal-content">
        <h4 class="blue-text">Configurar logo</h4>
    </div>

    <div class="container" style="margin-top: 24px;">

        <div id="Mensaje">

        </div>

        <!-- Input oculto -->
        <input type="file" id="inputLogo" accept="image/*" />

        <!-- Botón Materialize que abre el file input -->
        <div class="section">
            <label for="inputLogo" class="waves-effect waves-light btn-large blue">
                <i class="material-icons left">photo_size_select_large</i>
                Elegir logo
            </label>
        </div>

        <span class="grey-text text-darken-1" style="margin-left:12px;">
            PNG, JPG o SVG (se recomienda fondo transparente).
        </span>

        <!-- Preview + Cropper -->
        <div class="section">
            <img id="preview" alt="" />
        </div>

        <!-- Botones de acción -->
        <div class="section">
            <a id="btnRecortar" class="btn waves-effect waves-light teal ">
                <i class="material-icons left">done</i> Recortar y guardar
            </a>

            <div class="section">
                <a id="btnReset" class="btn waves-effect waves-light red">
                    <i class="material-icons left">delete_forever</i>
                    Borrar Imagen
                </a>

            </div>
        </div>
 

        <!-- Resultado final -->
        <div class="section">
            <h5 id="TitleVista" class="blue-text text-darken-1"></h5>
            <img id="logoGuardado" style="max-width: 220px; border-radius: 12px;" />
        </div>
    </div>

    <div class="modal-footer">
        <a href="#!" class="modal-close btn waves-effect waves-light red">Cerrar</a>
    </div>
</div>

<script>
    var UrlGuardar = '@Url.Action("GuardarLogo", "Empresa")';
    var UrlVerLogo = '@Url.Action("VerLogo", "Empresa")';
</script>

<script src="~/Scripts/UploadedImage.js"></script>